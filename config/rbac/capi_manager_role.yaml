# This ClusterRole grants permissions to the Cluster API (CAPI) manager service account
# to manage Evroc infrastructure resources. This file is manually maintained and must
# be kept in sync with the resources defined in the infrastructure.evroc.com API group.
#
# IMPORTANT: This file is NOT generated by kubebuilder/controller-gen. Any changes must
# be made manually and should match the permissions in the provider's own controller RBAC.
#
# Deployed automatically with: make deploy
# Or manually with: kubectl apply -f config/rbac/capi_manager_role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: capi-manager-evroc-access
  labels:
    cluster.x-k8s.io/provider: infrastructure-evroc
rules:
- apiGroups:
  - infrastructure.evroc.com
  resources:
  - evrocmachines
  - evrocmachines/status
  - evrocmachines/finalizers
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - infrastructure.evroc.com
  resources:
  - evrocclusters
  - evrocclusters/status
  - evrocclusters/finalizers
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - infrastructure.evroc.com
  resources:
  - evrocmachinetemplates
  - evrocmachinetemplates/status
  verbs:
  - get
  - list
  - watch
  - patch  # Required by kubeadm-control-plane controller
